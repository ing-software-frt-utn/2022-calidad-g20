@page
@model CalzadosSPA.Pages.SupervisorDeLinea.GestionarCalzadosModel
@{
}
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
<link href="~/css/myStyles.css" rel="stylesheet" type="text/css" />




<div class="col-12 justify-content-center mt-5 mb-2">
    <a class="btn btn-primary w-100" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample" style="font-size:1.5em;">
        Registrar modelo nuevo          <i class="fa fa-plus-circle"></i>
    </a>
</div>

<div class="col-12 collapse" id="collapseExample">
    <div class="card">
        <div class="card-body">
            <form asp-page-handler="post">
                <div class="mb-3">
                    <label class="form-label">SKU:</label>
                    <input asp-for="SKU" type="number" class="form-control" />
                </div>
                <div class="mb-3">
                    <label class="form-label">Denominación:</label>
                    <input asp-for="Denominacion" type="text" class="form-control" />
                </div>
                <div class="mb-3">
                    <label class="form-label">Limite inferior de defectos de observado:</label>
                    <input asp-for="LimiteInfObser" type="number" class="form-control" />

                    <label class="form-label">Limite superior de defectos de observado:</label>
                    <input asp-for="LimiteSupObser" type="number" class="form-control" />
                </div>
                <div class="mb-3">
                    <label class="form-label">Limite inferior de defectos de reproceso:</label>
                    <input asp-for="LimiteInfRepro" type="number" class="form-control" />

                    <label class="form-label">Limite superior de defectos de reproceso:</label>
                    <input asp-for="LimiteSupRepro" type="number" class="form-control" />
                </div>
                <div class="mb-3 text-center">
                    <button type="submit" class="btn btn-success" id="btnConfirmar">Confirmar</button>
                </div>
            </form>
        </div>
    </div>
</div>



<div class="col-12 justify-content-center mt-4 mb-2">
    <a class="btn btn-primary w-100" data-toggle="collapse" href="#collapseExample3" role="button" aria-expanded="false" aria-controls="collapseExample" style="font-size:1.5em;">
        Editar Modelo          <i class="fas fa-edit"></i>
    </a>
</div>

<div id="collapseExample3" class="col-12 collapse mt-2 text-center">

    <form asp-page-handler="update">
        <input type="number" id="bindingSKU" asp-for="SKUActualizar" onkeyup="bindingDinamico()" placeholder="Buscar modelo por SKU" style="width:80%">
        <button inert class="btn-light"><i class="fa fa-search"></i></button>

        <div class="row mt-3 justify-content-center">
            <div class="card col-5 mr-2">
                <div class="card-header">
                    <h5>Datos actuales del modelo</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label class="form-label">SKU actual:</label>
                        <input name="SKUBuscado" readonly class="form-control" />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Denominación actual:</label>
                        <input name="DenominacionBuscado" readonly class="form-control" />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Limite inferior de defectos de observado actual:</label>
                        <input name="InferiorObservado" readonly class="form-control" />

                        <label class="form-label">Limite superior de defectos de observado actual:</label>
                        <input readonly name="SuperiorObservado" class="form-control" />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Limite inferior de defectos de reproceso actual:</label>
                        <input name="InferiorReproceso" readonly class="form-control" />
                        <label class="form-label">Limite superior de defectos de reproceso actual:</label>
                        <input name="SuperiorReproceso" readonly class="form-control" />
                    </div>
                </div>
            </div>

            <div class="card col-5">
                <div class="card-header">
                    <h5>Datos nuevos del modelo</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label class="form-label">SKU nuevo:</label>
                        <input asp-for="SKU" type="number" class="form-control" />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Denominación nueva:</label>
                        <input asp-for="Denominacion" type="text" class="form-control" />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Limite inferior de defectos de observado nuevo:</label>
                        <input asp-for="LimiteInfObser" type="number" class="form-control" />

                        <label class="form-label">Limite superior de defectos de observado nuevo:</label>
                        <input asp-for="LimiteSupObser" type="number" class="form-control" />
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Limite inferior de defectos de reproceso nuevo:</label>
                        <input asp-for="LimiteInfRepro" type="number" class="form-control" />

                        <label class="form-label">Limite superior de defectos de reproceso nuevo:</label>
                        <input asp-for="LimiteSupRepro" type="number" class="form-control" />
                    </div>
                    <div class="mb-3 text-center">
                        <button type="submit" class="btn btn-success" id="btnActualizar">Actualizar</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>


<div class="col-12 justify-content-center mt-4 mb-2">
    <a class="btn btn-primary w-100" data-toggle="collapse" href="#collapseExample2" role="button" aria-expanded="false" aria-controls="collapseExample" style="font-size:1.5em;">
        Ver lista de modelos cargados          <i class="fa fa-list"></i>
    </a>
</div>

<div id="collapseExample2" class="col-12 collapse text-center">
    <input type="text" id="myInput" onkeyup="filtroDinamico()" placeholder="Filtrar por denominación" style="width:90%">
    <button class="btn-light" inert><i class="fa fa-search"></i></button>
    <table class="table table-bordered mt-1" id="tablaModelos">
        <thead class="thead-dark">
            <tr>
                <th width="15%">SKU</th>
                <th width="25%">Denominación</th>
                <th width="15%">Lim. Rep. Inf.</th>
                <th width="15%">Lim. Rep. Sup.</th>
                <th width="15%">Lim. Obs. Inf.</th>
                <th width="15%">Lim. Obs. Sup.</th>
            </tr>
        </thead>
        <tbody id="myTBody">
            @foreach (var modelo in Model.Modelos)
            {
                <tr onclick="obtenerModeloSeleccionado(this)">
                    <td>@modelo.SKU</td>
                    <td>@modelo.Denominacion</td>
                    <td>@modelo.LimiteInferiorReproceso</td>
                    <td>@modelo.LimiteSuperiorReproceso</td>
                    <td>@modelo.LimiteInferiorObservado</td>
                    <td>@modelo.LimiteSuperiorObservado</td>
                </tr>
            }
        </tbody>
    </table>

    <form asp-page-handler="delete">
        <input hidden readonly asp-for="@Model.SKUBorrar" id="skuBorrar" type="number" />
        <button class="btn btn-danger" id="btnBorrar" onclick="return confirm('¿Está seguro?')">
            <i class="fa fa-trash"></i>
        </button>
    </form>
</div>



<script src="~/js/scriptGestionarModelos.js"></script>
